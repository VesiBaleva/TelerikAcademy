<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="description" content="TODO list from Javascript event">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>02.TODO List from Javascript event</title>        
    </head>
    <body>

  
  		<div class="main">   
   			<p><strong>To Do List</strong> </p>
        
       		<form id="todo">
	           <input id="enter" type="text" name="item" placeholder="Any other task?"/>
	           <button id="add"  type="submit">Add new item</button>
	           <button id="remove" >Remove item</button>
	           <button id="showHide" >Show/Hide</button>
       		</form>
  		</div>
  		<div>
	        <ul id="toDoList">   
	            <li>Go to work</li>
	            <li>Go to Academy</li>
	            <li>Cooking</li>
	        </ul>
  		</div>
  		
  		<br/>
      
      <script type="text/javascript">
      	var uList = document.querySelector("#toDoList");

      	// I am attaching the buttons to events
      	var addButton = document.querySelector("#add");
      	addButton.addEventListener("click", addNewListItem, false);

      	var removeItemButton = document.getElementById("remove");
      	removeItemButton.addEventListener("click", removeListItem, false);

      	var showHideButton = document.getElementById("showHide");
      	showHideButton.addEventListener("click", showHide, false);

      	function addNewListItem() {
          // if event.preventDefault is not applied, browser does not know which event to apply in many cases
          // see more at  http://www.w3schools.com/jquery/event_preventdefault.asp
          event.preventDefault();
          var listItem = document.createElement("li");
          // get the value from the input text
          var inputValue = document.getElementById("enter").value;
          listItem.innerHTML = inputValue;
          uList.appendChild(listItem);
  		  }

      	function showHide() {
          event.preventDefault();
          var elements = document.querySelectorAll("ul>li");
          var i = 0;
          // all visible elements are made invisible, all invisible are made visible
          for (i = 0; i < elements.length; i++) {
              if (elements[i].style.display !== "none") {
                  elements[i].style.display = "none";
              }
              else {
                  elements[i].style.display = "list-item";
              }
          }
      	}

      	function removeListItem() {
          event.preventDefault();
          var valueToRemove = document.getElementById("enter").value;
          var elementsToRemove = document.querySelectorAll("ul li");
          var i = 0;
          // removing all elements with the value to be removed
          for (i = 0; i < elementsToRemove.length; i++) {
              if (elementsToRemove[i].innerText === valueToRemove) {
                  elementsToRemove[i].parentNode.removeChild(elementsToRemove[i]);
              }
          }
      	}
  	</script>
    <script  src="script/domModule.js"></script>
  </body>
</html>